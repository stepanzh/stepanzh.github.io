–°–µ—Ä–¥—Ü–µ —è–∑—ã–∫–∞ Julia ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è
##################################################

:date: 2025-05-12
:slug: julia-multiple-dispatch
:summary: todo
:description: todo
:keywords: todo


TODO: epigraph (2025-05-12 by Stepan Zakharov)

–ü—Ä–∏—Å—Ç—É–ø–∏–º
---------

–Ø –Ω–∞—á–Ω—É —Å –ø—Ä–∏–º–µ—Ä–∞.
–í —è–∑—ã–∫–µ Julia –º–æ–∂–Ω–æ —Ç–∞–∫.

.. code-block:: julia-repl
  :linenos: table

  julia> f(x, y) = "default";

  julia> f(x::T, y::T) where {T} = "default when x and y have same type";

  julia> f(x::Int, y::Int) = "x is Int, y is Int";

  julia> f(x::Int, y::Float64) = "x is Int, y is Float64";
  
  julia> f(x, y, z) = "oh my, there are x, y and even z!";

  julia> f("a", 1)
  "default"

  julia> f("a", "b")
  "default when x and y have same type"

  julia> f(1, 2)
  "x is Int, y is Int"

  julia> f(1, 2.0)
  "x is Int, y is Float64"

  julia> f(1, 2, 3)
  "oh my, there are x, y and even z!"

–í—ã—à–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è :code:`f`.

.. code-block:: julia-repl

  julia> f
  f (generic function with 5 methods)

–ò –ø—è—Ç—å –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –Ω–µ—ë.

.. code-block:: julia-repl

  julia> methods(f)
   [1] f(x::Int64, y::Float64)
   [2] f(x::Int64, y::Int64)
   [3] f(x, y, z)
   [4] f(x::T, y::T) where T
   [5] f(x, y)

.. 

  Julia –Ω–µ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —è–∑—ã–∫: –∑–¥–µ—Å—å *–º–µ—Ç–æ–¥—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –Ω–µ –æ–±—ä–µ–∫—Ç–∞–º, –∞ —Ñ—É–Ω–∫—Ü–∏—è–º*.

–ö–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, —Ç–æ –¥–∏—Å–ø–µ—Ç—á–µ—Ä –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –µ—Å—Ç—å –º–µ—Ç–æ–¥—ã —É —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ª—É—á—à–∏–º –æ–±—Ä–∞–∑–æ–º –ø–æ–¥—Ö–æ–¥–∏—Ç.
¬´–í—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–º –æ–±—Ä–∞–∑–æ–º¬ª –∑–Ω–∞—á–∏—Ç –≤—ã–±—Ä–∞—Ç—å –º–µ—Ç–æ–¥, —Ç–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞–∏–±–æ–ª–µ–µ ¬´–±–ª–∏–∑–∫–∏¬ª –∫ —Ç–∏–ø–∞–º –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.
–í —Å–ª—É—á–∞–µ –≤—ã–∑–æ–≤–∞ :code:`f(1, 2)` –ø–æ–¥—Ö–æ–¥—è—Ç —Å—Ä–∞–∑—É —Ç—Ä–∏ –º–µ—Ç–æ–¥–∞:

- :code:`f(x, y)`,
- :code:`f(x::T, y::T) where {T}`,
- :code:`f(x::Int64, y::Int64)`.

–ù–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (—á–∏—Å–ª–∞ 1 –∏ 2) –Ω–∞–∏–±–æ–ª–µ–µ –±–ª–∏–∑–∫–∏ –∫ :code:`Int64` –∏ :code:`Int64` (–≤–æ–æ–±—â–µ, –æ–Ω–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –Ω–∏–º–∏). 

.. 

  –ò—Ç–∞–∫, –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–±–æ—Ä–∞ –º–µ—Ç–æ–¥–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏.

–ê —á—Ç–æ –∑–Ω–∞—á–∏—Ç ¬´–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è¬ª (multiple dispatch)?

.. 

  –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è —ç—Ç–æ –≤–∏–¥ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–∏–ø—ã **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤**.

–í —Å–ª—É—á–∞–µ Julia —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–∏–ø—ã –≤—Å–µ—Ö *–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤* (positional arguments), –∞ –≤–æ—Ç –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø–æ –∫–ª—é—á—É (keyword arguments) –Ω–µ –∑–∞–≤–µ–∑–ª–∏.

–ß—Ç–æ –µ—â—ë –º–æ–∂–Ω–æ –ø–æ—á–µ—Ä–ø–Ω—É—Ç—å –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤ –≤—ã—à–µ?
==========================================

–î–µ–∫–ª–∞—Ä–∞—Ü–∏—è –Ω–µ –Ω—É–∂–Ω–∞
~~~~~~~~~~~~~~~~~~~

–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–µ–∫–ª–∞—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø(—ã) –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏.

.. code-block:: julia-repl

  julia> f(x, y) = "default";

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è –∑–¥–µ—Å—å –µ—Å—Ç—å, –Ω–æ –Ω–µ—è–≤–Ω–∞—è.
–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω —Ç–∞–∫–æ–º—É.

.. code-block:: julia-repl

  julia> f(x::Any, y::Any) = "default";

–¢–∏–ø :code:`Any` –æ—Å–æ–±—ã–π, –æ–Ω ¬´–ø—Ä–∞—Ä–æ–¥–∏—Ç–µ–ª—å¬ª –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö.
–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –≤ Julia –Ω–µ—Ç –ø—Ä–∏–≤—ã—á–Ω–æ–≥–æ –¥–ª—è –û–û–ü –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (inheritance).
–ü–æ—ç—Ç–æ–º—É –Ω–µ—Ç –∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏.

–û–¥–Ω–∞–∫–æ, —Ç–∏–ø—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏, –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞.
–ö–æ—Ä–Ω–µ–º —ç—Ç–æ–≥–æ –¥–µ—Ä–µ–≤–∞ —è–≤–ª—è–µ—Ç—Å—è —Ç–∏–ø :code:`Any`.
–ê –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å –Ω–∏–º —Å–≤—è–∑–∞–Ω—ã: –æ–ø–æ—Å—Ä–µ–¥–æ–≤–∞–Ω–Ω–æ –∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é.

–î–∏—Å–ø–∞—Ç—á –Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö —Ç–∏–ø–∞—Ö
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

–ú–æ–∂–Ω–æ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–æ–≤—ã–≤–∞—Ç—å—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö, –Ω–æ –∏ –Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö —Ç–∏–ø–∞—Ö.

.. code-block:: julia-repl

   julia> f(x, y) = "default";

   julia> f(x::Int, y::Int) = "x is Int, y is Int";

   julia> f(x::Real, y::Real) = "x and y are real numbers";

(–ü–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏, —Ç–∏–ø :code:`Real` —Å–ª—É–∂–∏—Ç –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª.)

–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã (abstract types), –Ω–∞–ø—Ä–∏–º–µ—Ä, :code:`Any` –∏ :code:`Real`, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–µ—Ä–µ–≤–∞ —Ç–∏–ø–æ–≤.
–û–Ω–∏ –Ω–µ—Å—É—Ç —Ç–æ–ª—å–∫–æ —Å–µ–º–∞–Ω—Ç–∏–∫—É.
–ê –≤–æ—Ç –ø—Ä–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã (—Åoncrete types) –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –≤—Å—ë –∏–∑–≤–µ—Å—Ç–Ω–æ, –≤–∫–ª—é—á–∞—è —Ç–æ, –∫–∞–∫ –æ–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –ø–∞–º—è—Ç–∏ (memory layout).
–û–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Ä–µ–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤ –ø–∞–º—è—Ç–∏ –æ–±—ä–µ–∫—Ç—ã, –∏–º–µ—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è (value).

–î–∏—Å–ø–∞—Ç—á –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

–ú–µ—Ç–æ–¥—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è —ç—Ç–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç.

.. code-block:: julia-repl

  julia> f(x, y) = "default";

  julia> f(x, y, z) = "oh my, there are x, y and even z!";

Generic programming included
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Julia –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–æ–±—â—ë–Ω–Ω—É—é (generic) –ø–∞—Ä–∞–¥–∏–≥–º—É.

.. code-block:: julia-repl

  julia> f(x::T, y::T) where {T} = "default when x and y have same type";

–ó–¥–µ—Å—å –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ—á–∫–µ –æ–ø–µ—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–µ–º–µ–π—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤, —É –∫–æ—Ç–æ—Ä—ã—Ö –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –∏–º–µ—é—â–∏—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ç–∏–ø (–∏ –æ–Ω –Ω–∞–∑–≤–∞–Ω :code:`T`).

–ö—Å—Ç–∞—Ç–∏, —Ç–∏–ø –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –≤ —Ä–∞–Ω—Ç–∞–π–º–µ (runtime) —Ç–∞–∫ –∏ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (compile time).

.. code-block:: julia-repl

  julia> atruntime(x) = typeof(x);

  julia> atcompiletime(x::T) where {T} = T;

  julia> atruntime(œÄ)
  Irrational{:œÄ}

  julia> atcompiletime(œÄ)
  Irrational{:œÄ}

–£ Julia –∏–∑ –∫–æ—Ä–æ–±–∫–∏ just-in-time –∫–æ–º–ø–∏–ª—è—Ü–∏—è.
–ó–Ω–∞—Ç—å —Ç–∏–ø—ã –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –±—ã–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã –¥–µ—à—ë–≤–æ –∏–∑–≤–ª–µ—á—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö.
–ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –º–∞—Å—Å–∏–≤–∞ :code:`ndims(x)` –∏–ª–∏ —Ç–∏–ø –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ :code:`eltype(x)`.

–ü—Ä–∏–º–µ—Ä –æ–±–æ–±—â—ë–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Julia
-------------------------------------------

–í Julia –æ—á–µ–Ω—å –º–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –ø–∏—Å–∞—Ç—å generic –∫–æ–¥.
–ù–∞–ø—Ä–∏–º–µ—Ä, —Å–∞–º–æ–ø–∏—Å–Ω—ã–π generic —Å—É–º–º–∞—Ç–æ—Ä –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫.

.. code-block:: julia-repl

  julia> function mysum(x)
             acc = zero(eltype(x))
             for xi in x
                 acc += xi
             end
             return acc
         end;

  julia> mysum([1, 2, 3])
  6

  julia> mysum(1:10)
  55

–ö–ª—ë–≤–æ, –¥–∞?
–ü–µ—Ä–≤—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –º–∞—Å—Å–∏–≤–∞ –∏–∑ —Ç—Ä—ë—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
–ê –≤–æ –≤—Ç–æ—Ä–æ–º :code:`1:10` —ç—Ç–æ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è –æ—Ç 1 –¥–æ 10 —Å –µ–¥–∏–Ω–∏—á–Ω—ã–º —à–∞–≥–æ–º.

–¢–∞–∫, —Å—Ç–æ–ø.
–ê –∑–∞—á–µ–º –Ω–∞–º —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏, –µ—Å–ª–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Å—É–º–º—É –∑–∞ :math:`O(1)` —Ç–∞–∫

.. math::

   \frac{(x_{1} + x_{n}) \times n}{2}

–ò—Å–ø—Ä–∞–≤–ª—è–µ–º!

.. code-block:: julia-repl

  julia> mysum(x::AbstractRange{<:Number}) = (first(x) + last(x)) * length(x) / 2;

  julia> mysum(1:10)
  55.0

–ü–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ, –Ω–æ –µ—Å—Ç—å –∫–æ—Å—è–∫ ‚Äî —Å—É–º–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª —ç—Ç–æ –≤—Å–µ–≥–¥–∞ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, –Ω–µ –¥—Ä–æ–±–Ω–æ–µ.
–ò—Å–ø—Ä–∞–≤–∏–º, –Ω–∞–∫–∏–Ω—É–≤ –µ—â—ë –æ–¥–∏–Ω –º–µ—Ç–æ–¥!

.. code-block:: julia-repl

  julia> mysum(x::AbstractRange{<:Integer}) = (first(x) + last(x)) * length(x) √∑ 2;

  julia> mysum(1:10)
  55

–í–æ—Ç —Ç–µ–ø–µ—Ä—å —Ö–æ—Ä–æ—à–æ.

–í –¥–∞–ª—å–Ω–µ–π—à–µ–º –º–æ–∂–Ω–æ –Ω–∞–∫–∏–Ω—É—Ç—å –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π: –Ω–∞–∫–∏–¥–∞—Ç—å –ø–æ—Ç–æ–∫–æ–≤ –∏ `SIMD <https://en.wikipedia.org/wiki/Single_instruction,_multiple_data>`_ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –Ω–æ —â–∞—Å –Ω–µ –æ–± —ç—Ç–æ–º.

–ò—Ç–æ–≥–æ, —Å—É–º–º–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞, –∫–∞–∫ –µ–π –∏ –ø–æ–ª–æ–∂–µ–Ω–æ, —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞ :math:`O(n)`, –∞ —Å—É–º–º–∞ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ –∑–∞ :math:`O(1)`.

.. code-block:: julia-repl

  julia> using BenchmarkTools

  julia> @btime mysum(1:10^6);
    0.791 ns (0 allocations: 0 bytes)

  julia> @btime mysum(1:10^8);
    0.791 ns (0 allocations: 0 bytes)

–ü–∞—Ä–∞ —Å–ª–æ–≤ –æ Python
==================

–ê Python —Ç–∞–∫ –º–æ–∂–µ—Ç?
–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ—Ç.
–í Python –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç magick –º–µ—Ç–æ–¥ :code:`__sum__`.

.. code-block:: ipython

  In [1]: %timeit sum(range(1, 10**6 + 1))
  9.52 ms ¬± 36.5 Œºs per loop (mean ¬± std. dev. of 7 runs, 100 loops each)

  In [2]: %timeit sum(range(1, 10**8 + 1))
  951 ms ¬± 1.51 ms per loop (mean ¬± std. dev. of 7 runs, 1 loop each)

–ü–ª–∞–∫-–ø–ª–∞–∫.
–ù–æ –æ–Ω–æ –º–æ–∂–µ—Ç –µ–º—É (–ü–∞–π—Ç–æ–Ω—É) –∏ –Ω–µ –Ω–∞–¥–æ.

–î–∏—Å–ø–∞—Ç—á –≤ Python
~~~~~~~~~~~~~~~~

–í Python –µ—Å—Ç—å –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è, –Ω–æ –æ–Ω–∞ –æ–¥–∏–Ω–∞—Ä–Ω–∞—è (single dispatch).
–í Python –∫–ª–∞—Å—Å —ç—Ç–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω, –∞ –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ :code:`x + y`, —Ç–æ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–µ–µ.

.. code-block:: python

   x + y
   ‚Üí x.__add__(y)
   ‚Üí type(x).__add__(x, y)

–ì–¥–µ :code:`type(x)` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ :code:`int`, :code:`list` –∏–ª–∏ —á–µ–º —Ç–∞–º :code:`x` —è–≤–ª—è–µ—Ç—Å—è –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.
–≠—Ç–æ –∏ –µ—Å—Ç—å –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è, –Ω–æ –ø–æ —Ç–∏–ø—É —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞.
(–ï—Å–ª–∏ –≤—ã —Ä–∞–Ω—å—à–µ –Ω–µ –∑–Ω–∞–ª–∏, –∑–∞—á–µ–º –ø–∏—Å–∞—Ç—å –≤ Python –º–µ—Ç–æ–¥–∞—Ö :code:`self`, —Ç–æ —Ç–µ–ø–µ—Ä—å –≤–∏–¥–∏—Ç–µ? üòè)

–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ –≤ Julia
---------------------

–í–µ—Ä–Ω—ë–º—Å—è –∫ –≤–æ–ø—Ä–æ—Å—É –∫–∞–∫ –¥–∏—Å–ø–µ—Ç—á–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –º–µ—Ç–æ–¥.
–Ø —É–ø–æ–º–∏–Ω–∞–ª, —á—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–µ: –º–µ—Ç–æ–¥ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Ç–æ—Ç, —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞–∏–±–æ–ª–µ–µ –±–ª–∏–∑–∫–∞ –∫ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ –≤—ã–∑–æ–≤–∞.
–Ø –¥–æ–ø–æ–¥–ª–∏–Ω–Ω–æ –Ω–µ –∑–Ω–∞—é –≤—Å–µ—Ö –ø—Ä–∞–≤–∏–ª –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏–∏.
–ù–æ –æ–Ω–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ–π, –µ—Å–ª–∏ –∑–Ω–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤ Julia.

.. 

  –í Julia —Ç–∏–ø—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –≤ –∏–µ—Ä–∞—Ä—Ö–∏—é —Ç–∏–ø–∞ –¥–µ—Ä–µ–≤–æ.

–ù–∏–∂–µ —á–∞—Å—Ç—å —ç—Ç–æ–≥–æ –¥–µ—Ä–µ–≤–∞.

.. code-block:: text

  Any
  ‚îî‚îÄ Number
     ‚îú‚îÄ Complex
     ‚îÇ  ‚îú‚îÄ Complex{Int64}
     ‚îÇ  ‚îú‚îÄ Complex{Float64}
     ‚îÇ  ‚îî‚îÄ ...
     ‚îî‚îÄ Real
        ‚îú‚îÄ AbstractFloat
        ‚îÇ  ‚îú‚îÄ BigFloat
        ‚îÇ  ‚îú‚îÄ Float16
        ‚îÇ  ‚îú‚îÄ Float32
        ‚îÇ  ‚îî‚îÄ Float64
        ‚îú‚îÄ ...
        ‚îú‚îÄ Integer
        ‚îÇ  ‚îú‚îÄ Bool
        ‚îÇ  ‚îú‚îÄ Signed
        ‚îÇ  ‚îÇ  ‚îú‚îÄ BigInt
        ‚îÇ  ‚îÇ  ‚îú‚îÄ Int128
        ‚îÇ  ‚îÇ  ‚îú‚îÄ Int16
        ‚îÇ  ‚îÇ  ‚îú‚îÄ Int32
        ‚îÇ  ‚îÇ  ‚îú‚îÄ Int64
        ‚îÇ  ‚îÇ  ‚îî‚îÄ Int8
        ‚îÇ  ‚îî‚îÄ Unsigned
        ‚îÇ     ‚îú‚îÄ UInt128
        ‚îÇ     ‚îú‚îÄ UInt16
        ‚îÇ     ‚îú‚îÄ UInt32
        ‚îÇ     ‚îú‚îÄ UInt64
        ‚îÇ     ‚îî‚îÄ UInt8
        ‚îî‚îÄ Rational
           ‚îú‚îÄ Rational{Int32}
           ‚îú‚îÄ Rational{Int64}
           ‚îî‚îÄ ...

–≠—Ç–∞ –≤–µ—Ç–≤—å —Å–æ–¥–µ—Ä–∂–∏—Ç (–ø–æ—á—Ç–∏) –≤—Å–µ —Ç–∏–ø—ã –¥–ª—è —á–∏—Å–µ–ª ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª.
–ù–∞–ø—Ä–∏–º–µ—Ä, —Ü–µ–ø–æ—á–∫–∞ –æ—Ç :code:`Int64` –¥–æ :code:`Any` —Ç–∞–∫–∞—è.

.. code-block:: julia-repl

  julia> Int64 <: Signed <: Integer <: Real <: Number <: Any
  true

–ö–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞ —ç—Ç–æ —Ç–∏–ø :code:`Any`.
–ê –≤—Å–µ —Ç–∏–ø—ã –≤ –¥–µ—Ä–µ–≤–µ –¥–µ–ª—è—Ç—Å—è –Ω–∞ –¥–≤–∞ –≤–∏–¥–∞: –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π (abstract) –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π (concrete).

–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã —ç—Ç–æ –ª–∏—Å—Ç—å—è –¥–µ—Ä–µ–≤–∞.
–ü—Ä–æ –Ω–∏—Ö –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É –∏–∑–≤–µ—Å—Ç–Ω–æ –≤—Å—ë, –≤–∫–ª—é—á–∞—è –∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ –ø–∞–º—è—Ç–∏.
–° –Ω–∏–º–∏ –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.
–ê –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤ –≤ –¥–µ—Ä–µ–≤–æ, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–∏—Å–∞—Ç—å generic –∫–æ–¥.

–ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤?
–¢–∞–∫ –≤–æ—Ç, –∫–æ–≥–¥–∞ –º—ã –ø–∏—à–µ–º –º–µ—Ç–æ–¥ –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, :code:`f(x::Real)`, –º—ã –ø–∏—à–µ–º –µ–≥–æ –¥–ª—è —Ç–∏–ø–æ–≤ –≤—Å–µ–π –≤–µ—Ç–≤–∏, –Ω–∞—á–∏–Ω–∞—è —Å —Ç–∏–ø–∞ :code:`Real`.

–ù–æ –µ—Å—Ç—å –Ω—é–∞–Ω—Å.
–ú–µ—Ç–æ–¥ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–∏–ø–æ–≤ –≤–µ—Ç–≤–∏.
–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞—à –º–µ—Ç–æ–¥ :code:`f(x::Real)` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å :code:`eps(x)`, —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—à–∏–Ω–Ω—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è :code:`x`.
–ù–æ :code:`eps(x)` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (–Ω—É –µ—â—ë –¥–ª—è –¥–∞—Ç, –Ω–æ —â–∞—Å –Ω–µ –æ–± —ç—Ç–æ–º).
–ü–æ—ç—Ç–æ–º—É –≤—ã–∑–æ–≤ :code:`f(1)` –º–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å, –µ—Å–ª–∏ –º—ã –Ω–µ –ø–æ–∑–∞–±–æ—Ç–∏–ª–∏—Å—å –æ —Å–ª—É—á–∞–µ :code:`eps(1)`.
–ù–∞ –≤—ã—Ä—É—á–∫—É –Ω–∞–º –º–æ–∂–µ—Ç –ø—Ä–∏–π—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—è :code:`float(x)`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–≤–æ–¥–∏—Ç —á–∏—Å–ª–æ –∫ —á–∏—Å–ª—É —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π.

–ò–ª–∏ –ø—Ä–∏–º–µ—Ä –ø–æ–ø—Ä–æ—â–µ.
–°–∫–∞–∂–µ–º, –º—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –§–∏–±–±–æ–Ω–∞—á–∏.
–ï—Å–ª–∏ –º—ã –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—Å—Ç—Ä–æ–∏–ª–∏ –≤ –¥–µ—Ä–µ–≤–æ —Ç–∏–ø–æ–≤, —Ç–æ –µ—Å—Ç—å —à–∞–Ω—Å, —á—Ç–æ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ :code:`length(x)`, :code:`first(x)` –∏–ª–∏ :code:`last(x)` –æ—Ç—Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–Ω–æ –º–æ–∂–µ—Ç –Ω–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ —Å :code:`mysum`).
–ê –µ—Å–ª–∏ —ç—Ç–∏ –º–µ—Ç–æ–¥—ã –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—é—Ç, —Ç–æ –ø—Ä–∏–¥—ë—Ç—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–∏ (–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ç–æ –Ω–µ—Ç).

–ò—Ç–∞–∫, –∫–æ–≥–¥–∞ –≤ Julia –º–µ—Ç–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, —Ç–æ —ç—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –≤—Å—ë –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.
–¢–∞–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –ª–∏—à—å –≤—ã—Ä–∞–∂–∞–µ—Ç *–Ω–∞–º–µ—Ä–µ–Ω–∏–µ*, —á—Ç–æ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ–ª–∂–Ω–æ.
–ê –¥–∞–ª—å—à–µ –≤—Å—ë –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞, –Ω–∞—Å–∫–æ–ª—å–∫–æ –æ–Ω–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ generic (—Ç–æ –µ—Å—Ç—å, –æ—Ç –æ–ø—ã—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞).

TODO: –ë–æ–ª—å - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (2025-05-12 by Stepan Zakharov)
